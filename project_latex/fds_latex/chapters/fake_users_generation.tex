% !TeX root = main.tex

\section{Synthetic User Generation}

To simulate global user interactions while preserving privacy, we generate synthetic user profiles based on demographic and traffic data.

\subsection{Data Sources}

\begin{itemize}
    \item \textbf{World cities and populations:} Dataset \cite{citiesdistribution}. Used columns \texttt{ASCII Name, Country Name EN,
    Population, Latitude, Longitude}.

    \item \textbf{MyAnimeList traffic per country:} Scraped manually from semrush.com for October 2025, with columns
    \texttt{Country, Number of Visitors}.

    \item \textbf{Age and sex distributions:} From demographic studies\cite{animeresearch2020} providing mean and standard
    deviation for age, and male/female proportions.
\end{itemize}

Additionally, the demographic survey\cite{animeresearch2020} collected country-level data, but it was conducted at a large anime convention, 
so the sample is a \emph{convenience sample} and not representative of the general population. 
Nevertheless, the observed distributions roughly align with the traffic patterns obtained from semrush.com.

The survey also collected additional information, such as self-reported life satisfaction, hobbies, gender,
preferred decades of favorite titles, and other personal attributes.  
These variables are not directly used in this project, as our analysis relies on synthetic profiles generated
from traffic and demographic distributions.

\subsection{Generation Procedure}

\begin{enumerate}
    \item Compute country-level user proportions based on MAL traffic:

    \[
    P_\text{country} = \frac{\text{MAL users in country X}}{\text{Total MAL users}}.
    \]

    \item Distribute users to cities within each country proportionally to city population:

    \[
    P_\text{city} = P_\text{country} \cdot \frac{\text{City population}}{\sum \text{City populations in country}}.
    \]

    \item Sample user attributes:
    \begin{itemize}
        \item \texttt{age} $\sim$ Normal distribution (mean, std from \cite{animeresearch2020}),
        \item \texttt{sex} $\sim$ Bernoulli(p) (male/female proportion from \cite{animeresearch2020}),
        \item \texttt{latitude, longitude} assigned according to the selected city.
    \end{itemize}

    \item Assign \texttt{user\_id} sequentially and compile all attributes into \texttt{profiles.csv} with columns:

    \[
    \texttt{user\_id, country, city, age, sex, latitude, longitude}.
    \]
\end{enumerate}

\subsection{Notes}

- This synthetic population allows testing recommendation algorithms and demographic analyses without revealing actual user data.
- The proportions reflect December 2025 traffic, but are applied to simulate the 2020 dataset contextually.
